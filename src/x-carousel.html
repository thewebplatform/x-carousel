<!-- Import X-Tag -->
<script src="../bower_components/x-tag-core/src/core.js"></script>

<script>
(function() {
    xtag.register('x-carousel', {
        lifecycle: {
            // Fires when an instance of the element is created
            created: function () {
                this._items = [];
            },

            // Fires when an instance was inserted into the document
            inserted: function () {
                this.loadItems();
                this.loadTheme();
            },
            // Fires when an instance was removed from the document
            removed: function () {

            },

            // Fires when an attribute was added, removed, or updated
            attributeChanged: function (attr, oldVal, newVal) {

            }
        },

        events: {},
        accessors: {},
        methods: {
            
            loadTheme: function () {

            },

            options: function () {
                // TODO: refactor into
                if (this.lazyload !== undefined && this.lazyload !== null) {
                    // load items lazy
                }
                if (this.wrap !== undefined && this.wrap !== null) {
                    // wrap items
                }

                // controls
            },

            loadItems: function () {
                if (this.items !== undefined && this.items !== null && this.items !== "") {
                    // load JSON based on path
                }

                if (this.childNodes('li').length > 0) {
                    [].forEach.call(this.querySelectorAll('li'), function (carouselItem) {
                        this._items.push({"item": carouselItem, "content": carouselItem.innerHTML})
                    }.bind(this));
                }
            }
        }
    });
}());
</script>
